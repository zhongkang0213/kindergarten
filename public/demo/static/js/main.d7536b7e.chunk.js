(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{201:function(e,a,n){e.exports=n(437)},206:function(e,a,n){},207:function(e,a,n){},329:function(e,a,n){},385:function(e,a,n){},386:function(e,a,n){},387:function(e,a,n){},437:function(e,a,n){"use strict";n.r(a);var t=n(0),i=n.n(t),r=n(3),c=n.n(r),o=(n(206),n(21)),l=n(22),s=n(25),g=n(23),u=n(26),d=(n(207),n(188)),h=n.n(d),b=n(28),m=(n(328),n(124)),p="chapter",f={hover:function(e,a,n){if(!n)return null;var t=a.getItem().index,i=a.getItem().parentIndex,c=e.index,o=e.parentIndex;if(i!==o||t!==c){var l=Object(r.findDOMNode)(n).getBoundingClientRect(),s=(l.bottom-l.top)/2,g=a.getClientOffset().y-l.top;i<=o&&t<c&&g<s||i>=o&&t>c&&g>s||(a.getItem().index=c,a.getItem().parentIndex=o)}}},y=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(g.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props,a=e.text,n=(e.index,e.isDragging?.2:1);return(0,e.connectDragSource)((0,e.connectDropTarget)(i.a.createElement("span",{className:"dragItem-wrapper",style:Object.assign({},{opacity:n})},a)))}}]),a}(i.a.Component),v=Object(b.DropTarget)(p,f,function(e,a){return{connectDropTarget:e.dropTarget(),isOver:a.isOver()}})(Object(b.DragSource)(p,{beginDrag:function(e){return{id:e.id,index:e.index,parentIndex:e.parentIndex,data:e.data}},isDragging:function(e,a){return a.getItem().id===e.id}},function(e,a){return{connectDragSource:e.dragSource(),isDragging:a.isDragging()}})(y)),O=(n(329),m.a.SubMenu),D=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(g.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props.data;return i.a.createElement("div",{className:"droplist-wrapper"},i.a.createElement(m.a,{mode:"inline"},e.map(function(e,a){return i.a.createElement(O,{title:e.title,key:"menu-".concat(a)},e.list.map(function(e,n){return i.a.createElement(m.a.Item,{key:"item-".concat(a,"-").concat(n)},i.a.createElement(v,{text:e.caiyao.name,id:"item-".concat(a,"-").concat(n),index:n,data:e}))}))})))}}]),a}(i.a.Component),T=n(440),z=n(441),x=(n(385),{drop:function(e,a,n){e.handleTableItem(a.getItem().data,e.tkey)},hover:function(e,a,n){if(!n)return null;var t=a.getItem().index,i=a.getItem().parentIndex,c=e.index,o=e.parentIndex;if(i!==o||t!==c){var l=Object(r.findDOMNode)(n).getBoundingClientRect(),s=(l.bottom-l.top)/2,g=a.getClientOffset().y-l.top;i<=o&&t<c&&g<s||i>=o&&t>c&&g>s||(a.getItem().index=c,a.getItem().parentIndex=o)}}}),I=function(e){function a(){var e,n;Object(o.a)(this,a);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(g.a)(a)).call.apply(e,[this].concat(i)))).onChange=function(e,a,t){var i=n.props.tkey;n.props.onNumberChange(i,e,a,t)},n.closeCyTag=function(e,a){var t=n.props.tkey;n.props.closeCyTag(t,e)},n}return Object(u.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props,a=e.data,n=e.item,t=e.type,r=e.index,c=e.connectDropTarget;return a.length?c(i.a.createElement("tr",null,0===r&&i.a.createElement("td",{className:"drop-table-td",rowSpan:a.length},t),i.a.createElement("td",{className:"drop-table-td"},i.a.createElement("span",{className:"td-name td-f-c"},n.caiyao.name),i.a.createElement(T.a,{min:1,value:n.caiyao.count,onChange:this.onChange.bind(this,"caiyao",r),width:20}),i.a.createElement("div",{className:"tag-wrapper"},i.a.createElement(z.a,{onClose:this.closeCyTag.bind(this,r),closable:!0}))),i.a.createElement("td",{className:"drop-table-td"},i.a.createElement("span",{className:"td-name"},n.shicai.name),i.a.createElement(T.a,{min:1,defaultValue:n.shicai.count,onChange:this.onChange.bind(this,"shicai",r),width:20}),i.a.createElement("div",{className:"tag-wrapper"},i.a.createElement(z.a,{onClose:this.closeCyTag.bind(this,r),closable:!0}))))):c(i.a.createElement("tr",null,i.a.createElement("td",{className:"drop-table-td"},t),i.a.createElement("td",{className:"drop-table-td"}),i.a.createElement("td",{className:"drop-table-td"})))}}]),a}(i.a.Component),C=Object(b.DropTarget)(p,x,function(e,a){return{connectDropTarget:e.dropTarget(),isOver:a.isOver()}})(Object(b.DragSource)(p,{beginDrag:function(e){return{id:e.id,index:e.index,parentIndex:e.parentIndex,tkey:e.tkey}},isDragging:function(e,a){return a.getItem().id===e.id}},function(e,a){return{connectDragSource:e.dragSource(),isDragging:a.isDragging()}})(I)),N=(n(386),{drop:function(e,a,n){a.isOver({shallow:!0})&&e.handleDropArea(a.getItem().data)},hover:function(e,a,n){if(!n)return null;var t=a.getItem().index,i=e.index;if(t!==i){var c=Object(r.findDOMNode)(n).getBoundingClientRect(),o=(c.bottom-c.top)/2,l=a.getClientOffset().y-c.top;t<i&&l<o||t>i&&l>o||(a.getItem().index=i)}}}),j=function(e){function a(){var e,n;Object(o.a)(this,a);for(var t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(g.a)(a)).call.apply(e,[this].concat(r)))).state={dataSource:{morning:[{caiyao:{name:"\u6e05\u7092\u5305\u83dc",count:30},shicai:{name:"\u5706\u767d\u83dc\u3001\u5377\u5fc3\u83dc",count:30}}],aftern:[],evening:[{caiyao:{name:"\u6e05\u7092\u5305\u83dc",count:30},shicai:{name:"\u5706\u767d\u83dc\u3001\u5377\u5fc3\u83dc",count:30}},{caiyao:{name:"\u6e05\u7092\u5305\u83dc",count:30},shicai:{name:"\u5706\u767d\u83dc\u3001\u5377\u5fc3\u83dc",count:30}}]},columns:[{title:"\u9910\u522b",dataIndex:"name",key:"name"},{title:"\u83dc\u80b4\uff08\u514b/\u4eba\uff09",dataIndex:"caiyao",key:"caiyao"},{title:"\u98df\u6750\uff08\u514b/\u4eba\uff09",dataIndex:"shicai",key:"shicai"}]},n.closeCyTag=function(e,a){n.props.closeCyTag(e,a)},n.onNumberChange=function(e,a,t,i){n.props.onNumberChange(e,a,t,i)},n.renderTableTr=function(e,a,t){return e.length?e.map(function(r,c){return i.a.createElement(C,{handleTableItem:n.handleTableItem,onNumberChange:n.onNumberChange,closeCyTag:n.closeCyTag,data:e,item:r,type:a,index:c,key:c,tkey:t})}):i.a.createElement(C,{handleTableItem:n.handleTableItem,onNumberChange:n.onNumberChange,closeCyTag:n.closeCyTag,data:e,type:a,index:null,tkey:t})},n.handleTableItem=function(e,a){n.props.handleTableItem&&n.props.handleTableItem(e,a)},n}return Object(u.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.state.columns,a=this.props.tableData,n=a.morning,t=a.aftern,r=a.evening;return(0,this.props.connectDropTarget)(i.a.createElement("div",{className:"droparea-wrapper"},i.a.createElement("table",{border:"1",frame:"void",align:"center",className:"table-wrapper"},i.a.createElement("tbody",null,i.a.createElement("tr",{className:"drop-table-tr"},e.map(function(e,a){return i.a.createElement("th",{className:"drop-table-th",key:a},e.title)})),this.renderTableTr(n,"\u65e9\u9910","morning"),this.renderTableTr(t,"\u5348\u9910","aftern"),this.renderTableTr(r,"\u665a\u9910","evening")))))}}]),a}(i.a.Component),E=Object(b.DropTarget)(p,N,function(e){return{connectDropTarget:e.dropTarget()}})(Object(b.DragSource)(p,{beginDrag:function(e){return{id:e.id,index:e.index}}},function(e,a){return{connectDragSource:e.dragSource(),isDragging:a.isDragging()}})(j)),w=(n(387),n(439)),_=function(e){function a(){var e,n;Object(o.a)(this,a);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(g.a)(a)).call.apply(e,[this].concat(i)))).state={dataSource:[{key:"nengliang",name:"\u80fd\u91cf",biaozhun:85.2,sheru:"4.1",baifenbi:"2.2%"},{key:"danbaizhi",name:"\u86cb\u767d\u8d28",biaozhun:45.2,sheru:"1.5",baifenbi:"0.7%"}],columns:[{title:"\u8425\u517b\u7d20",dataIndex:"name",key:"name"},{title:"\u6807\u51c6\u91cf",dataIndex:"biaozhun",key:"biaozhun"},{title:"\u6444\u5165\u91cf",dataIndex:"sheru",key:"sheru"},{title:"\u767e\u5206\u6bd4",dataIndex:"baifenbi",key:"baifenbi"}]},n}return Object(u.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.state,a=(e.dataSource,e.columns),n=this.props.data;return i.a.createElement("div",{className:"dropview-wrapper"},!!n.length&&i.a.createElement(w.a,{style:{width:"360px"},dataSource:n,columns:a,pagination:!1}))}}]),a}(i.a.Component),S=(n(436),function(e){function a(){var e,n;Object(o.a)(this,a);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(g.a)(a)).call.apply(e,[this].concat(i)))).state={data:[{title:"\u7092\u83dc\uff08\u7d20\uff09",list:[{caiyao:{name:"\u6e05\u7092\u5305\u83dc",count:30,nengliang:3.7,nengliang_s:.3,danbaizhi:1.2,danbaizhi_s:.13},shicai:{name:"\u5706\u767d\u83dc\u3001\u5377\u5fc3\u83dc",count:30,nengliang:3.7,nengliang_s:.3,danbaizhi:1.2,danbaizhi_s:.13}},{caiyao:{name:"\u6e05\u7092\u9999\u82b9",count:30,nengliang:3.7,nengliang_s:.3,danbaizhi:1.2,danbaizhi_s:.13},shicai:{name:"\u9999\u82b9",count:30,nengliang:3.7,nengliang_s:.3,danbaizhi:1.2,danbaizhi_s:.13}},{caiyao:{name:"\u756a\u8304\u9e21\u86cb",count:30,nengliang:3.7,nengliang_s:.3,danbaizhi:1.2,danbaizhi_s:.13},shicai:{name:"\u756a\u8304\u3001\u9e21\u86cb",count:30,nengliang:3.7,nengliang_s:.3,danbaizhi:1.2,danbaizhi_s:.13}},{caiyao:{name:"\u6e05\u7092\u6cb9\u9ea6\u83dc",count:30,nengliang:3.7,nengliang_s:.3,danbaizhi:1.2,danbaizhi_s:.13},shicai:{name:"\u6cb9\u9ea6\u83dc",count:30,nengliang:3.7,nengliang_s:.3,danbaizhi:1.2,danbaizhi_s:.13}}]},{title:"\u7092\u83dc\uff08\u8364\uff09",list:[{caiyao:{name:"\u7ea2\u70e7\u8304\u5b50",count:30,nengliang:3.7,nengliang_s:.3,danbaizhi:1.2,danbaizhi_s:.13},shicai:{name:"\u8304\u5b50\u3001\u571f\u8c46",count:30,nengliang:3.7,nengliang_s:.3,danbaizhi:1.2,danbaizhi_s:.13}},{caiyao:{name:"\u9752\u6912\u674f\u9c8d\u83c7\u7092\u725b\u67f3",count:30,nengliang:3.7,nengliang_s:.3,danbaizhi:1.2,danbaizhi_s:.13},shicai:{name:"\u9752\u6912\u3001\u674f\u9c8d\u83c7\u3001\u725b\u8089",count:30,nengliang:3.7,nengliang_s:.3,danbaizhi:1.2,danbaizhi_s:.13}},{caiyao:{name:"\u6728\u987b\u8089",count:30,nengliang:3.7,nengliang_s:.3,danbaizhi:1.2,danbaizhi_s:.13},shicai:{name:"\u9ec4\u74dc\u3001\u9e21\u86cb\u3001\u6728\u8033",count:30,nengliang:3.7,nengliang_s:.3,danbaizhi:1.2,danbaizhi_s:.13}},{caiyao:{name:"\u7ea2\u70e7\u9c7c\u5757",count:30,nengliang:3.7,nengliang_s:.3,danbaizhi:1.2,danbaizhi_s:.13},shicai:{name:"\u9c7c",count:30,nengliang:3.7,nengliang_s:.3,danbaizhi:1.2,danbaizhi_s:.13}}]}],tableData:{morning:[],aftern:[],evening:[]},viewTableData:[{key:"nengliang",name:"\u80fd\u91cf",biaozhun:0,sheru:0,baifenbi:"0.0%"},{key:"danbaizhi",name:"\u86cb\u767d\u8d28",biaozhun:0,sheru:0,baifenbi:"0.0%"}]},n.setViewTableData=function(){var e=JSON.parse(JSON.stringify(n.state.tableData)),a=JSON.parse(JSON.stringify(n.state.viewTableData)),t=e.morning,i=e.aftern,r=e.evening,c=[].concat(t,i,r);a[0].biaozhun=0,a[0].sheru=0,a[0].baifenbi="2.2%",a[1].biaozhun=0,a[1].sheru=0,a[1].baifenbi="0.95%",c.map(function(e,n){a[0].biaozhun=(+a[0].biaozhun+e.caiyao.nengliang*e.caiyao.count+e.shicai.nengliang*e.shicai.count).toFixed(2),a[0].sheru=(+a[0].sheru+e.caiyao.nengliang_s*e.caiyao.count+e.shicai.nengliang_s*e.shicai.count).toFixed(2),a[1].biaozhun=(+a[1].biaozhun+e.caiyao.danbaizhi*e.caiyao.count+e.shicai.danbaizhi*e.shicai.count).toFixed(2),a[1].sheru=(+a[1].sheru+e.caiyao.danbaizhi_s*e.caiyao.count+e.shicai.danbaizhi_s*e.shicai.count).toFixed(2)}),n.setState({viewTableData:a})},n.handleDropArea=function(e){var a=JSON.parse(JSON.stringify(n.state.tableData));a.morning.push(e),n.setState({tableData:a},function(){n.setViewTableData()})},n.handleTableItem=function(e,a){var t=JSON.parse(JSON.stringify(n.state.tableData));t[a].push(e),n.setState({tableData:t},function(){n.setViewTableData()})},n.closeCyTag=function(e,a){var t=JSON.parse(JSON.stringify(n.state.tableData));t[e].splice(a,1),n.setState({tableData:t},function(){n.setViewTableData()})},n.onNumberChange=function(e,a,t,i){var r=JSON.parse(JSON.stringify(n.state.tableData));r[e][t][a].count=i,n.setState({tableData:r},function(){n.setViewTableData()})},n}return Object(u.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.state,a=e.data,n=e.tableData,t=e.viewTableData;return i.a.createElement("div",{className:"app-wrapper"},i.a.createElement("div",null,i.a.createElement(D,{data:a})),i.a.createElement("div",null,i.a.createElement(E,{handleDropArea:this.handleDropArea,onNumberChange:this.onNumberChange,closeCyTag:this.closeCyTag,tableData:n,handleTableItem:this.handleTableItem})),i.a.createElement("div",null,i.a.createElement(_,{data:t})))}}]),a}(t.Component)),k=Object(b.DragDropContext)(h.a)(S);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[201,1,2]]]);
//# sourceMappingURL=main.d7536b7e.chunk.js.map